<MudContainer MaxWidth="MaxWidth.Small" Class="d-flex justify-center">
    <MudGrid>
        <MudItem xs="5" class="text-center">
            <MudCard>
                <MudCardContent>
                    <MudImage Src="@Team1Image"
                              Alt="@Team1Name"
                              Elevation="25"
                              Class="rounded-lg"
                              Style="max-height: 200px; object-fit: cover;" />
                    <MudText Typo="Typo.h6" Class="mt-2">@Team1Name</MudText>
                </MudCardContent>
            </MudCard>
        </MudItem>

        <MudItem xs="12" class="text-center">
            <MudCard>
                <MudCardContent>
                    <MudText Typo="Typo.h5" Class="mb-2">Random Challenge</MudText>
                    <MudText Typo="Typo.body1">@Challenge</MudText>
                </MudCardContent>
            </MudCard>
        </MudItem>

        <MudItem xs="12" class="text-center mt-3">
            <MudButton OnClick="Respin">Respin Teams & Challenge</MudButton>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    private string Team1Image { get; set; }
    private string Team2Image { get; set; }
    private string Team1Name { get; set; } = "Team 1"; // Placeholder name
    private string Team2Name { get; set; } = "Team 2"; // Placeholder name
    private string Challenge { get; set; }

    private List<NCAAChallenge> Challenges = new List<NCAAChallenge>
    {
        new NCAAChallenge("Build a Team from Scratch", "Start as the coach of a bottom-tier or newly created team and try to turn it into a national powerhouse."),
        new NCAAChallenge("All Walk-Ons Challenge", "Only recruit walk-on players and avoid using any high-profile or heavily scouted recruits."),
        new NCAAChallenge("Recruiting Restrictions Challenge", "Set limitations on recruiting, such as only signing 2-star or lower players, or only recruiting from your state or region."),
        new NCAAChallenge("One-Year Wonder Challenge", "Try to win a National Championship in a single season without recruiting."),
        // Add the rest of your challenges here
    };

    protected override void OnInitialized()
    {
        Respin();
    }

    private void Respin()
    {
        Random random = new Random();

        // Randomly select team images
        int team1Number = random.Next(1, 135); // Random team 1
        int team2Number = random.Next(1, 135); // Random team 2

        Team1Image = $"/TeamLogos/{team1Number}.png";
        Team2Image = $"/TeamLogos/{team2Number}.png";
        Team1Name = team1Number.ToString();
        Team2Name = team2Number.ToString();

        // Randomly select a challenge
        int challengeIndex = random.Next(Challenges.Count);
        Challenge = $"{Challenges[challengeIndex].Name}: {Challenges[challengeIndex].Description}";
    }

    // Class to hold the challenge information
    public class NCAAChallenge
    {
        public string Name { get; set; }
        public string Description { get; set; }

        public NCAAChallenge(string name, string description)
        {
            Name = name;
            Description = description;
        }
    }
}
